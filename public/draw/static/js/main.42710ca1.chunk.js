(this["webpackJsonpnotion-draw"]=this["webpackJsonpnotion-draw"]||[]).push([[0],{37:function(e,t,n){},40:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(28),s=n.n(i),c=(n(37),n(3)),a=n(2);const l={Black:"#10293c",Blue:"#339af0",Green:"#37b24d",Red:"#f03e3e",Cyan:"#3bc9db",Yellow:"#fcc419",Orange:"#fd7e14",Purple:"#845ef7"},d={Primary:"#10293c",Secondary:"none"},h={Primary:"#EE3F46",Secondary:"#ffffff"},u={Primary:"#27A2F8"};var p,x,b,f=n(1);const j=()=>Object(f.jsxs)(m,{children:[Object(f.jsx)(O,{children:"Something went wrong."}),Object(f.jsxs)(g,{children:["This board doesn't work on mobile devices.",Object(f.jsx)("br",{}),"To learn more please visit"," ",Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/nickzuber/notion-draw#faq",children:"the FAQ"}),"."]})]}),m=a.a.div(p||(p=Object(c.a)(["\n  position: relative;\n  height: 100vh;\n  width: 100%;\n  margin: 0;\n  background: #ffffff;\n  box-sizing: border-box;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  border-radius: 0;\n  overflow: hidden;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),g=a.a.p(x||(x=Object(c.a)(["\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 17px;\n  color: ",";\n  margin: 4px auto 8px;\n  text-align: center;\n"])),l.Black),O=Object(a.a)(g)(b||(b=Object(c.a)(["\n  font-size: 18px;\n  line-height: 19px;\n  margin: 8px auto 12px;\n"])));var v=n(29);const E={x:-1150,y:-650,z:1},y={penColor:l.Black,penSize:4,eraserSize:8},k={hideBackgroundPattern:!1,disablePanning:!1};let w,S,C,L;function R(e){switch(e){case w.FREEHAND:return"Freehand";case w.ERASE:return"Erase"}}function M(e){switch(e){case S.IDLE:return"Idle";case S.DRAWING_FREEHAND:return"Drawing Freehand";case S.ERASING:return"Erasing"}}!function(e){e.FREEHAND="freehand",e.ERASE="erase"}(w||(w={})),function(e){e[e.IDLE=0]="IDLE",e[e.DRAWING_FREEHAND=1]="DRAWING_FREEHAND",e[e.ERASING=2]="ERASING"}(S||(S={})),function(e){e.CURVE_START_HANDLE="curve-start-handle",e.CURVE_END_HANDLE="curve-end-handle",e.CURVE_HANDLE="curve-handle",e.SELECTION_BOX="selection-box"}(C||(C={})),function(e){e.LINE="line",e.FREEFORM="freeform"}(L||(L={}));const z=0,F=0,A=3600,P=1800,D=.1,N=5;function I(){const e=document.querySelector("#canvas");if(e){const t=e.getBoundingClientRect();return{minX:t.left-t.x,minY:t.top-t.y,maxX:t.right-t.x,maxY:t.bottom-t.y,left:t.left,top:t.top,width:t.width,height:t.height}}return{minX:0,minY:0,maxX:window.innerWidth,maxY:window.innerHeight,left:0,top:0,width:window.innerWidth,height:window.innerHeight}}function H(e,t){return{x:e.x/t.z-t.x,y:e.y/t.z-t.y,pressure:e.pressure}}function Y(e,t){return{x:e.x/t.z-t.x,y:e.y/t.z-t.y}}function X(e,t){const n=Y({x:t.minX,y:t.minY},e),r=Y({x:t.maxX,y:t.maxY},e);return{minX:n.x,minY:n.y,maxX:r.x,maxY:r.y,height:r.y-n.y,width:r.x-n.x}}let B;function T(e,t){const n=t(e),r=X(n,I());let o=Math.min(n.x,z),i=Math.min(n.y,F),s=Math.max(n.z,D);const c=o-r.width<-A,a=i-r.height<-P;return c&&(o=r.width-A),a&&(i=r.height-P),n.x>=z&&c&&(o=z,s=e.z),n.y>=F&&a&&(i=F,s=e.z),{x:o,y:i,z:s}}!function(e){e.SHAPE="shape",e.SELECTION_BOX="selection-box",e.CURVE_HANDLE="curve-handle",e.SVG_ELEMENT="svg-element",e.OTHER="other"}(B||(B={}));var W=n(47),V=n(30);function _(e){let{interactive:t=!0}=e;return"\n    pointer-events: ".concat(t?"painted":"none",";\n    user-select: ").concat(t?"painted":"none",";\n  ")}const G=a.a.path(_),q=(a.a.rect(_),a.a.circle(_),a.a.text(_),a.a.foreignObject(_));function U(e){return null!==e&&void 0!==e}function Z(){return"shape-".concat(Object(W.a)())}function Q(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function J(e){const{minX:t,minY:n,maxX:r,maxY:o}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=1/0,r=1/0,o=-1/0,i=-1/0;for(const s of e){let e=[];switch(s.type){case L.LINE:e=ne(s);break;case L.FREEFORM:e=re(s)}const t=e.map((e=>e.x)),c=e.map((e=>e.y));n=Math.min(n,...t,1/0),r=Math.min(r,...c,1/0),o=Math.max(o,...t,-1/0),i=Math.max(i,...c,-1/0)}return n-=t,r-=t,o+=t,i+=t,{minX:n,minY:r,maxX:o,maxY:i}}([e]),i=Math.abs(t-r),s=Math.abs(n-o);return Math.max(i,s)}function K(e){if(!e.length)return"";const t=e.reduce(((e,t,n,r)=>{let[o,i]=t;const[s,c]=r[(n+1)%r.length];return e.push(o,i,(o+s)/2,(i+c)/2),e}),["M",...e[0],"Q"]);return t.push("Z"),t.join(" ")}function $(e){if(e.deleting)return!1;switch(e.type){case L.LINE:const t=e;return Q(t.start,t.end)>4;case L.FREEFORM:return J(e)>0;default:return!0}}function ee(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function te(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return{x:(1-r)**2*e.x+2*(1-r)*r*n.x+r**2*t.x,y:(1-r)**2*e.y+2*(1-r)*r*n.y+r**2*t.y}}function ne(e){return e.curve?[e.start,te(e.start,e.end,e.curve,.1),te(e.start,e.end,e.curve,.2),te(e.start,e.end,e.curve,.3),te(e.start,e.end,e.curve,.4),te(e.start,e.end,e.curve,.5),te(e.start,e.end,e.curve,.6),te(e.start,e.end,e.curve,.7),te(e.start,e.end,e.curve,.8),te(e.start,e.end,e.curve,.9),e.end]:[e.start,e.end]}function re(e){return e.points}function oe(e){return"".concat(e.x," ").concat(e.y)}function ie(e){return e.map((e=>{let{x:t,y:n,pressure:r}=e;return[t,n,r]}))}function se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n={size:t,thinning:-.55,streamline:.5,smoothing:.45,easing:e=>e,start:{taper:0,easing:e=>e,cap:!0},end:{taper:0,easing:e=>e,cap:!0}},r=ie(e.points),o=Object(V.a)(r,n);return K(o)}function ce(e){switch(e.type){case L.LINE:return(n=e).curve?Object(f.jsx)(G,{id:n.id,strokeWidth:n.size||4,strokeLinecap:"round",stroke:n.color||d.Primary,fill:d.Secondary,d:"\n        M ".concat(oe(n.start),"\n        Q ").concat(oe(n.curve)," ").concat(oe(n.end),"\n    ")},n.id):Object(f.jsx)(G,{id:n.id,strokeWidth:n.size||4,strokeLinecap:"round",stroke:n.color||d.Primary,fill:d.Secondary,d:"\n        M ".concat(oe(n.start),"\n        L ").concat(oe(n.end),"\n    ")},n.id);case L.FREEFORM:return t=e,Object(f.jsx)(G,{id:t.id,stroke:"none",strokeLinecap:"round",fill:t.color||d.Primary,opacity:t.deleting?.5:1,d:"\n        ".concat(se(t,t.size),"\n      ")},t.id);default:return null}var t,n}function ae(e){return e.map(ce).filter(U)}function le(e){return{...e,editing:!1}}const de={status:w.FREEHAND,action:S.IDLE,camera:E,content:{shapes:[],selectedIds:[],hoveredIds:[]},theme:y,meta:{locked:!1}};class he extends v.a{constructor(){super(...arguments),this.setStatus=e=>{const t=this.state.content.shapes.filter($).filter((e=>!e.editing));this.setState({before:{status:this.state.status,content:this.state.content},after:{status:e,content:{...this.state.content,shapes:t}}})},this.setTheme=e=>{this.setState({before:{theme:this.state.theme},after:{theme:e}})},this.setMeta=e=>{this.setState({before:{meta:this.state.meta},after:{meta:e}})},this.onPan=(e,t)=>{this.patchState({camera:T(this.state.camera,(n=>function(e,t,n){return{x:e.x-t/e.z,y:e.y-n/e.z,z:e.z}}(n,e,t)))})},this.onPinch=(e,t)=>{this.patchState({camera:T(this.state.camera,(n=>function(e,t,n){const r=Math.min(Math.max(e.z-n*e.z,D),N),o=Y(t,e),i=Y(t,{...e,z:r});return{x:e.x+(i.x-o.x),y:e.y+(i.y-o.y),z:r}}(n,e,t)))})},this.onResetZoom=()=>{this.setState({before:{camera:this.state.camera},after:{camera:T(this.state.camera,(e=>function(e){const{width:t,height:n}=I(),r={x:t/2,y:n/2},o=Y(r,e),i=Y(r,{...e,z:1});return{x:e.x+(i.x-o.x),y:e.y+(i.y-o.y),z:1}}(e)))}})},this.onResetCamera=()=>{this.setState({before:{camera:this.state.camera},after:{camera:T(this.state.camera,(()=>E))}})},this.onEraseStart=e=>{this.setSnapshot(),this.onEraseMove(e)},this.onEraseMove=e=>{var t;const n=H(e,this.state.camera),r=null===(t=document.getElementById("render-scene-svg"))||void 0===t?void 0:t.createSVGPoint();r.x=n.x,r.y=n.y;const o=this.state.content.shapes.map((e=>{if(!e.deleting&&e.type===L.FREEFORM){const t=e,n=document.getElementById(t.id),o=(null===n||void 0===n?void 0:n.isPointInStroke(r))||(null===n||void 0===n?void 0:n.isPointInFill(r));return{...t,deleting:o}}return e}));this.patchState({action:S.ERASING,content:{...this.state.content,shapes:o}})},this.onEraseEnd=()=>{const e=this.state.content.shapes.filter($).map(le);this.setState({before:{action:this.snapshot.action,status:this.snapshot.status,content:this.snapshot.content},after:{action:S.IDLE,status:w.ERASE,content:{...this.state.content,selectedIds:[],shapes:e}}})},this.onFreehandStart=e=>{this.setSnapshot();const t=H(e,this.state.camera),n={id:Z(),type:L.FREEFORM,editing:!0,points:[t],color:this.state.theme.penColor,size:this.state.theme.penSize};this.patchState({action:S.DRAWING_FREEHAND,content:{...this.state.content,selectedIds:[n.id],shapes:[...this.state.content.shapes,n]}})},this.onFreehandMove=e=>{const t=H(e,this.state.camera),n=this.state.content.shapes.map((e=>{if(e.editing&&e.type===L.FREEFORM){const n=e;return{...n,points:n.points.concat(t)}}return e}));this.patchState({action:S.DRAWING_FREEHAND,content:{...this.state.content,shapes:n}})},this.onFreehandEnd=()=>{const e=this.state.content.shapes.filter($).map(le);this.setState({before:{action:this.snapshot.action,status:this.snapshot.status,content:this.snapshot.content},after:{action:S.IDLE,status:w.FREEHAND,content:{...this.state.content,selectedIds:[],shapes:e}}})},this.onDeleteAllShapes=()=>{this.setState({before:{...this.state},after:{...this.state,content:{...this.state.content,selectedIds:[],shapes:[]}}})}}}const ue=window.location.href,pe=ue.includes("notion-draw.art"),xe=new he(de,ue,pe?2:1),be=e=>e?xe.useStore(e):xe.useStore();var fe=n(8);const je={position:null},me=Object(r.createContext)(null),ge=e=>{let{children:t}=e;const n=(()=>{const[e,t]=Object(r.useState)(je),n=e=>{t({position:e})},o=()=>{t({position:null})};return{renderPenPreviewAt:Object(r.useMemo)((()=>Object(fe.a)(n)),[]),removePreview:Object(r.useMemo)((()=>Object(fe.a)(o)),[]),position:e.position}})();return Object(f.jsx)(me.Provider,{value:n,children:t})},Oe=Object(r.createContext)(null),ve=e=>{let{children:t}=e;const n=(()=>{const{camera:e}=be(),[t,n]=Object(r.useState)({x:0,y:0});return Object(r.useEffect)((()=>{const e=Object(fe.a)((function(e){const{clientX:t,clientY:r}=e,{left:o,top:i}=I();n({x:t-o,y:r-i})}));return document.addEventListener("mousemove",e,{passive:!1}),()=>{document.removeEventListener("mousemove",e)}}),[]),{screenPosition:ee(t),canvasPosition:ee(Y(t,e))}})();return Object(f.jsx)(Oe.Provider,{value:n,children:t})};function Ee(e,t){switch(e.type){case L.LINE:return function(e,t){const n=ne(e);return Object(f.jsx)(r.Fragment,{children:n.map(((e,n)=>Object(f.jsx)("circle",{cx:e.x,cy:e.y,r:4/t,fill:h.Primary},n)))})}(e,t);case L.FREEFORM:return function(e,t){return Object(f.jsx)(r.Fragment,{children:e.points.map(((e,n)=>Object(f.jsx)("circle",{cx:e.x,cy:e.y,r:4/t,fill:h.Primary},n)))})}(e,t);default:return null}}function ye(e,t){return e.map((e=>Ee(e,t))).filter(U)}var ke=n(13);function we(e){return"".concat(e.x.toFixed(3),",").concat(e.x.toFixed(3),"}")}const Se=1e3,Ce={position:null,isAnimating:!1},Le=()=>{const[e,t]=Object(r.useState)(Ce),n=Object(r.useRef)();function o(){n.current&&clearTimeout(n.current)}Object(r.useEffect)((()=>()=>o()),[]);const i=Object(r.useCallback)((e=>{o(),t({position:e,isAnimating:!0}),n.current=setTimeout((()=>{t({position:null,isAnimating:!1})}),Se)}),[]),s=Object(r.useCallback)((t=>{var n,r;e.isAnimating?e.position&&(n=e.position,r=t,we(n)!==we(r))&&i(t):i(t)}),[e.isAnimating,e.position,i]);return{animateAt:i,animateAtOnce:s,position:e.position,isAnimating:e.isAnimating}};const Re=Object(r.createContext)(null),Me=e=>{let{children:t}=e;const n=Le();return Object(f.jsx)(Re.Provider,{value:n,children:t})};var ze,Fe,Ae,Pe,De,Ne;const Ie="cubic-bezier(0.065, 0.835, 0.595, 0.895)",He=e=>{let{size:t=40}=e;const{position:n}=Object(r.useContext)(Re);return n?Object(f.jsx)(q,{interactive:!1,x:n.x-t/2,y:n.y-t/2,height:t,width:t,children:Object(f.jsxs)(We,{children:[Object(f.jsx)(Be,{size:t}),Object(f.jsx)(Te,{size:t,rotation:45}),Object(f.jsx)(Te,{size:t,rotation:135}),Object(f.jsx)(Te,{size:t,rotation:225}),Object(f.jsx)(Te,{size:t,rotation:315})]})},we(n)):null},Ye=Object(ke.b)(ze||(ze=Object(c.a)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),Xe=a.a.div((e=>{let{size:t}=e;return Object(ke.a)(Ae||(Ae=Object(c.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    pointer-events: none;\n    user-select: none;\n    background: ",";\n    border-radius: 1px;\n    height: ","px;\n    width: ","px;\n  "])),t/2-1,t/2-2.5,u.Primary,2,5)})),Be=Object(a.a)(Xe)((e=>{let{size:t}=e;return Object(ke.a)(Pe||(Pe=Object(c.a)(["\n    border-radius: 100%;\n    top: ","px;\n    left: ","px;\n    height: ","px;\n    width: ","px;\n    animation: "," ","ms ",";\n  "])),t/2-1,t/2-1,2,2,Ye,1100,Ie)})),Te=Object(a.a)(Xe)(De||(De=Object(c.a)(["\n  animation: ","\n    ","ms ",";\n"])),(e=>{return t=e.rotation,n=10,Object(ke.b)(Fe||(Fe=Object(c.a)(["\n  0% {\n    transform: rotate(","deg) translate(0);\n    opacity: 1;\n  }\n\n  50% {\n    transform: rotate(","deg) translate(","px);\n    opacity: 0;\n  }\n\n  100% {\n    transform: rotate(","deg) translate(","px);\n    opacity: 0;\n  }\n"])),t,t,n,t,n);var t,n}),1100,Ie),We=a.a.div(Ne||(Ne=Object(c.a)(["\n  pointer-events: none;\n  user-select: none;\n  background: none;\n  height: 100%;\n  width: 100%;\n"]))),Ve=e=>{let{camera:t,action:n,meta:o,status:i,content:s,onPan:c,onPinch:a,onFreehandStart:l,onFreehandMove:d,onFreehandEnd:h,onEraseStart:u,onEraseMove:p,onEraseEnd:x,debug:b,options:j,svgStyle:m={}}=e;const g=Object(r.useRef)(null),{shapes:O}=s;!function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(r.useEffect)((()=>{if(o)return;function r(e){if(e.preventDefault(),e.ctrlKey){const{clientX:n,clientY:r,deltaY:o}=e,{left:i,top:s}=I();t({x:n-i,y:r-s},o/100)}else{const{deltaX:t,deltaY:r}=e;n(t,r)}}const i=e.current;return i?(i.addEventListener("wheel",r,{passive:!1}),()=>{i.removeEventListener("wheel",r)}):void 0}),[e,n,t,o])}(g,a,c,j.disablePanning||o.locked),((e,t,n,o,i,s)=>{const c=Object(r.useRef)(null),a=Object(r.useRef)(null),{canvasPosition:l}=Object(r.useContext)(Oe),{renderPenPreviewAt:d}=Object(r.useContext)(me);Object(r.useEffect)((()=>{t===w.FREEHAND&&d(a.current||l)}),[t,l,d]),Object(r.useEffect)((()=>{if(s)return;if(t!==w.FREEHAND)return;const r=e.current;if(!r)return;const a=Object(fe.a)((function(e){e.preventDefault();const{clientX:t,clientY:r}=e,{left:o,top:i}=I();c.current={x:t-o,y:r-i,pressure:e.pressure},n(c.current)})),l=Object(fe.a)((function(e){if(!c.current)return;const{clientX:t,clientY:n}=e,{left:r,top:i}=I();c.current={x:t-r,y:n-i,pressure:e.pressure},o(c.current)})),d=Object(fe.a)((function(){c.current&&(i(),c.current=null)}));return r.addEventListener("pointerdown",a,{passive:!1}),document.addEventListener("pointermove",l,{passive:!1}),document.addEventListener("pointerup",d,{passive:!1}),()=>{r.removeEventListener("pointerdown",a),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",d)}}),[e,t,n,o,i,s])})(g,i,l,d,h,o.locked),((e,t,n,o,i,s)=>{const c=Object(r.useRef)(null),a=Object(r.useRef)(null),{canvasPosition:l}=Object(r.useContext)(Oe),{renderPenPreviewAt:d}=Object(r.useContext)(me);Object(r.useEffect)((()=>{t===w.ERASE&&d(a.current||l)}),[t,l,d]),Object(r.useEffect)((()=>{if(s)return;if(t!==w.ERASE)return;const r=e.current;if(!r)return;const a=Object(fe.a)((function(e){e.preventDefault();const{clientX:t,clientY:r}=e,{left:o,top:i}=I();c.current={x:t-o,y:r-i,pressure:e.pressure},n(c.current)})),l=Object(fe.a)((function(e){if(!c.current)return;const{clientX:t,clientY:n}=e,{left:r,top:i}=I();c.current={x:t-r,y:n-i,pressure:e.pressure},o(c.current)})),d=Object(fe.a)((function(){c.current&&(i(),c.current=null)}));return r.addEventListener("pointerdown",a,{passive:!1}),document.addEventListener("pointermove",l,{passive:!1}),document.addEventListener("pointerup",d,{passive:!1}),()=>{r.removeEventListener("pointerdown",a),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",d)}}),[e,t,n,o,i,s])})(g,i,u,p,x,o.locked);const v="scale(".concat(t.z,") translate(").concat(t.x,"px, ").concat(t.y,"px)");return Object(f.jsxs)("svg",{id:"render-scene-svg",ref:g,style:m,children:[Object(f.jsxs)("g",{style:{transform:v},children:[!j.hideBackgroundPattern&&Object(f.jsx)(q,{interactive:!1,x:0,y:0,height:P,width:A,children:Object(f.jsx)(_e,{scale:t.z})}),ae(O),Object(f.jsx)(He,{})]}),b&&Object(f.jsxs)("g",{style:{transform:v,pointerEvents:"none"},children:[Object(f.jsx)("polyline",{className:"debug-lines",points:"2,1798, 3600,2"}),Object(f.jsx)("polyline",{className:"debug-lines",points:"2,2, 3600,1798"}),ye(O,t.z)]})]})};const _e=a.a.div((e=>{let{scale:t}=e;const[n,r]=function(e){let t=1;return e<.75&&(t=1.5),e<.5&&(t=2.5),[10*t,.75*t]}(t);return"\n  height: 100%;\n  width: 100%;\n  background-color: #ffffff;\n  background-image: radial-gradient(#d7d7d7 ".concat(r,"px, #ffffff ").concat(r,"px);\n  background-size: ").concat(n,"px ").concat(n,"px;\n  pointer-events: none;\n  user-select: none;\n")}));var Ge,qe,Ue,Ze,Qe;function Je(){return(Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){let{title:n,titleId:o,...i}=e;return r.createElement("svg",Je({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,Ge||(Ge=r.createElement("path",{d:"M5.75 7.75L6.59115 17.4233C6.68102 18.4568 7.54622 19.25 8.58363 19.25H14.4164C15.4538 19.25 16.319 18.4568 16.4088 17.4233L17.25 7.75H5.75Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),qe||(qe=r.createElement("path",{d:"M9.75 10.75V16.25",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),Ue||(Ue=r.createElement("path",{d:"M13.25 10.75V16.25",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),Ze||(Ze=r.createElement("path",{d:"M8.75 7.75V6.75C8.75 5.64543 9.64543 4.75 10.75 4.75H12.25C13.3546 4.75 14.25 5.64543 14.25 6.75V7.75",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),Qe||(Qe=r.createElement("path",{d:"M4.75 7.75H18.25",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const $e=r.forwardRef(Ke);var et,tt;n.p;function nt(){return(nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rt(e,t){let{title:n,titleId:o,...i}=e;return r.createElement("svg",nt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,et||(et=r.createElement("path",{d:"M7 15.25L4.75 13L11.2929 6.45711C11.6834 6.06658 12.3166 6.06658 12.7071 6.45711L15.5429 9.29289C15.9334 9.68342 15.9334 10.3166 15.5429 10.7071L11 15.25H7Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),tt||(tt=r.createElement("path",{d:"M12.75 19.25H19.25",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const ot=r.forwardRef(rt);var it,st,ct,at;n.p;function lt(){return(lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dt(e,t){let{title:n,titleId:o,...i}=e;return r.createElement("svg",lt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,it||(it=r.createElement("path",{d:"M12.7888 8.7361L16.1972 5.32785C16.9167 4.60838 18.0539 4.57914 18.7374 5.26256C19.4208 5.94598 19.3915 7.08325 18.6721 7.80273L15.2374 11.2374",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),st||(st=r.createElement("path",{d:"M15.6665 11.6665L12.3335 8.33347C11.5847 7.58468 10.382 7.54934 9.59053 8.25287L8.75 9L15 15.25L15.7471 14.4095C16.4507 13.618 16.4153 12.4153 15.6665 11.6665Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),ct||(ct=r.createElement("path",{d:"M9 10L4.75 12.75L11.25 19.25L14 15",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),at||(at=r.createElement("path",{d:"M7 15L8.25 13.75",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const ht=r.forwardRef(dt);var ut,pt;n.p;function xt(){return(xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bt(e,t){let{title:n,titleId:o,...i}=e;return r.createElement("svg",xt({width:24,height:24,fill:"none",viewBox:"0 0 24 24",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,ut||(ut=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.75 11.75C5.75 11.1977 6.19772 10.75 6.75 10.75H17.25C17.8023 10.75 18.25 11.1977 18.25 11.75V17.25C18.25 18.3546 17.3546 19.25 16.25 19.25H7.75C6.64543 19.25 5.75 18.3546 5.75 17.25V11.75Z"})),pt||(pt=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.75 10.5V10.3427C7.75 8.78147 7.65607 7.04125 8.74646 5.9239C9.36829 5.2867 10.3745 4.75 12 4.75C13.6255 4.75 14.6317 5.2867 15.2535 5.9239C16.3439 7.04125 16.25 8.78147 16.25 10.3427V10.5"})))}const ft=r.forwardRef(bt);var jt,mt;n.p;function gt(){return(gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ot(e,t){let{title:n,titleId:o,...i}=e;return r.createElement("svg",gt({width:24,height:24,fill:"none",viewBox:"0 0 24 24",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,jt||(jt=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.75 11.75C5.75 11.1977 6.19772 10.75 6.75 10.75H17.25C17.8023 10.75 18.25 11.1977 18.25 11.75V17.25C18.25 18.3546 17.3546 19.25 16.25 19.25H7.75C6.64543 19.25 5.75 18.3546 5.75 17.25V11.75Z"})),mt||(mt=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.75 10.5V9.84343C7.75 8.61493 7.70093 7.29883 8.42416 6.30578C8.99862 5.51699 10.0568 4.75 12 4.75C14 4.75 15.25 6.25 15.25 6.25"})))}const vt=r.forwardRef(Ot);n.p;const Et=Object(r.createContext)(null),yt=e=>{let{children:t}=e;const n=(()=>{const[e,t]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{let e=null;function n(){e&&clearTimeout(e),t(!0)}function r(){e=setTimeout((()=>t(!1)),1e3)}return document.addEventListener("mouseenter",n,{passive:!1}),document.addEventListener("mouseleave",r,{passive:!1}),()=>{document.removeEventListener("mouseenter",n),document.removeEventListener("mouseleave",r)}}),[]),e})();return Object(f.jsx)(Et.Provider,{value:n,children:t})};class kt extends o.a.Component{constructor(e){super(e),this.getTooltipElement=()=>document.querySelector("#".concat(this.id)),this.onMouseEnter=e=>{if(this.getTooltipElement())return;const{tooltipOffsetX:t,tooltipOffsetY:n}=this.props,{x:r,y:o,width:i,height:s}=e.target.getBoundingClientRect(),c=document.createTextNode(this.props.message),a=document.createElement("div");a.setAttribute("id",this.id),a.setAttribute("class","react-tooltip"),a.appendChild(c),document.querySelector("body").appendChild(a);const{width:l}=a.getBoundingClientRect(),d="\n      top: ".concat(o+s+window.scrollY+n,"px;\n      left: ").concat(r-l/2+i/2+t,"px;\n      ").concat(this.props.dark?"\n        background: #ffffff;\n        color: #10293c;\n      ":"","\n    ");a.setAttribute("style",d),this.timeout=setTimeout((()=>{a.setAttribute("style","\n          ".concat(d,"\n          opacity: ").concat(this.props.dark?1:.9,";\n        "))}),this.props.tooltipSpeed)},this.removeTooltip=()=>{clearTimeout(this.timeout);const e=this.getTooltipElement();e&&e.parentNode.removeChild(e)},this.id=("tooltip-id-"+Math.random()).replace(/\./g,"")}render(){return this.props.children({onMouseEnter:this.onMouseEnter,onMouseLeave:this.removeTooltip,onMouseDown:this.removeTooltip})}}kt.defaultProps={tooltipOffsetX:0,tooltipOffsetY:0,tooltipSpeed:350};const wt=e=>t=>{let{tooltip:n,tooltipOffsetX:r,tooltipOffsetY:o,tooltipSpeed:i,...s}=t;return Object(f.jsx)(kt,{dark:s.dark,message:n,tooltipOffsetX:r,tooltipOffsetY:o,tooltipSpeed:i,children:t=>n?Object(f.jsx)(e,{...s,...t}):Object(f.jsx)(e,{...s})})};var St,Ct,Lt,Rt,Mt,zt,Ft,At,Pt,Dt,Nt,It,Ht,Yt,Xt,Bt,Tt,Wt,Vt,_t,Gt;const qt=e=>{let{status:t,camera:n,meta:o,action:i,theme:s,setTheme:c}=e;const{setStatus:a,setMeta:d,onResetCamera:h,onDeleteAllShapes:u}=xe,[p,x]=Object(r.useState)(!1),b=Object(r.useContext)(Et),j=o.locked,m=i===S.DRAWING_FREEHAND,g=!b||m;return Object(r.useEffect)((()=>{x(!1)}),[g]),Object(f.jsxs)(Zt,{children:[Object(f.jsxs)(Kt,{hide:g,children:[Object(f.jsx)($t,{style:{width:145},hide:j,children:Object(f.jsxs)(tn,{onClick:()=>x((e=>!e)),children:[Object(f.jsxs)(un,{children:[Object(f.jsx)(dn,{children:"Styles"}),Object(f.jsx)(an,{color:s.penColor})]}),Object(f.jsx)(un,{children:Object(f.jsxs)(dn,{children:[Math.round(100*n.z),"%"]})})]})}),p&&Object(f.jsxs)(Ut,{children:[Object(f.jsxs)(pn,{children:[Object(f.jsx)(xn,{children:Object(f.jsx)(dn,{children:"Colors"})}),Object(f.jsx)(bn,{children:Object.values(l).map((e=>Object(f.jsx)(ln,{color:e,selected:e===s.penColor,onClick:()=>{a(w.FREEHAND),c({penColor:e}),x(!1)}},e)))})]}),Object(f.jsxs)(pn,{children:[Object(f.jsx)(xn,{children:Object(f.jsx)(dn,{children:"Sizes"})}),Object(f.jsxs)(bn,{children:[Object(f.jsx)(fn,{size:2,color:s.penColor,selected:2===s.penSize,onClick:()=>{a(w.FREEHAND),c({penSize:2})}}),Object(f.jsx)(fn,{size:4,color:s.penColor,selected:4===s.penSize,onClick:()=>{a(w.FREEHAND),c({penSize:4})}}),Object(f.jsx)(fn,{size:8,color:s.penColor,selected:8===s.penSize,onClick:()=>{a(w.FREEHAND),c({penSize:8})}})]})]}),Object(f.jsx)(pn,{children:Object(f.jsx)(hn,{onClick:()=>h(),children:"Reset zoom & center"})})]})]}),Object(f.jsxs)(Jt,{hide:g,style:{width:o.locked?46:80},children:[Object(f.jsxs)($t,{hide:j,children:[Object(f.jsx)(nn,{selected:t===w.FREEHAND,onClick:()=>a(w.FREEHAND)}),Object(f.jsx)(rn,{selected:t===w.ERASE,onClick:()=>{a(w.ERASE),x(!1)}})]}),Object(f.jsx)($t,{children:o.locked?Object(f.jsx)(sn,{tooltip:"Unlock this board and re-enable editing",tooltipOffsetX:94,tooltipOffsetY:-65,tooltipSpeed:200,onClick:()=>d({locked:!1})}):Object(f.jsxs)(r.Fragment,{children:[Object(f.jsx)(cn,{tooltip:"Lock this board and disable editing",tooltipOffsetX:82,tooltipOffsetY:-65,tooltipSpeed:200,onClick:()=>d({locked:!0})}),Object(f.jsx)(on,{tooltip:"Clear everything from the board",tooltipOffsetX:40,tooltipOffsetY:-65,tooltipSpeed:200,onClick:()=>u()})]})})]})]})},Ut=e=>{let{children:t}=e;const[n,o]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{const e=setTimeout((()=>o(!0)),10);return()=>clearTimeout(e)}),[]),Object(f.jsx)(en,{hide:!n,children:t})},Zt=a.a.div(St||(St=Object(c.a)([""]))),Qt=a.a.div(Ct||(Ct=Object(c.a)(["\n  transition: opacity 250ms ease, transform 250ms ease;\n  pointer-events: ",";\n  opacity: ",";\n  transform: scale(",");\n\n  cursor: ",";\n\n  * {\n    cursor: ",";\n  }\n"])),(e=>e.hide?"none":"all"),(e=>e.hide?0:1),(e=>e.hide?.975:1),(e=>e.hide?"default !important":null),(e=>e.hide?"default !important":null)),Jt=Object(a.a)(Qt)(Lt||(Lt=Object(c.a)(["\n  position: absolute;\n  background: transparent;\n  min-height: 100px;\n  width: 80px;\n  top: 12px;\n  left: 12px;\n  bottom: 12px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n  pointer-events: none;\n  user-select: none;\n"]))),Kt=Object(a.a)(Qt)(Rt||(Rt=Object(c.a)(["\n  position: absolute;\n  background: transparent;\n  min-height: 100px;\n  width: 215px;\n  top: 32px;\n  right: 12px;\n  bottom: 0;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: flex-start;\n  pointer-events: none;\n  user-select: none;\n"]))),$t=Object(a.a)(Qt)(Mt||(Mt=Object(c.a)(["\n  margin: 0 0 8px;\n  background: #fefefe;\n  min-height: 30px;\n  padding: 4px;\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 0px 16px -1px, rgba(0, 0, 0, 0.05) 0px 0px 16px -8px,\n    rgba(0, 0, 0, 0.12) 0px 0px 16px -12px, rgba(0, 0, 0, 0.08) 0px 0px 2px 0px;\n  box-sizing: border-box;\n  border-radius: 6px;\n\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  width: 100%;\n  pointer-events: all;\n"]))),en=Object(a.a)($t)(zt||(zt=Object(c.a)(["\n  padding: 8px 12px 0;\n  justify-content: flex-start;\n\n  @media (max-height: 240px) {\n    width: 350px;\n  }\n"]))),tn=a.a.div(Ft||(Ft=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 4px 8px;\n  height: 30px;\n  width: 100%;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: #eee;\n  }\n\n  &:active {\n    background: #ccc;\n  }\n"]))),nn=Object(a.a)(ht)(At||(At=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  margin: 2px;\n  padding: 4px;\n  height: 30px;\n  width: 30px;\n  border-radius: 100%;\n  background: ",";\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: ",";\n  }\n\n  &:active {\n    background: #ccc;\n  }\n"])),(e=>e.selected?"#ddd":"transparent"),(e=>e.selected?"#ddd":"#eee")),rn=Object(a.a)(ot)(Pt||(Pt=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  margin: 2px;\n  padding: 4px;\n  height: 30px;\n  width: 30px;\n  border-radius: 100%;\n  background: ",";\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: ",";\n  }\n\n  &:active {\n    background: #ccc;\n  }\n"])),(e=>e.selected?"#ddd":"transparent"),(e=>e.selected?"#ddd":"#eee")),on=wt(Object(a.a)($e)(Dt||(Dt=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  margin: 2px;\n  padding: 6px;\n  height: 30px;\n  width: 30px;\n  border-radius: 100%;\n  background: transparent;\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: #eee;\n  }\n\n  &:active {\n    background: #ccc;\n  }\n"])))),sn=wt(Object(a.a)(ft)(Nt||(Nt=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  margin: 2px;\n  padding: 6px;\n  height: 30px;\n  width: 30px;\n  border-radius: 100%;\n  background: transparent;\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: #eee;\n  }\n\n  &:active {\n    background: #ccc;\n  }\n\n  path {\n    stroke-width: 2px;\n  }\n"])))),cn=wt(Object(a.a)(vt)(It||(It=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  margin: 2px;\n  padding: 6px;\n  height: 30px;\n  width: 30px;\n  border-radius: 100%;\n  background: transparent;\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: #eee;\n  }\n\n  &:active {\n    background: #ccc;\n  }\n\n  path {\n    stroke-width: 2px;\n  }\n"])))),an=Object(a.a)(ht)(Ht||(Ht=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  margin: 2px;\n  padding: 4px;\n  height: 30px;\n  width: 30px;\n  border-radius: 100%;\n  color: ",";\n  background: transparent;\n  // transform: rotate(192deg);\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  path {\n    fill: ","3b;\n  }\n"])),(e=>e.color),(e=>e.color)),ln=Object(a.a)(ht)(Yt||(Yt=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  margin: 2px;\n  padding: 4px;\n  height: 30px;\n  width: 30px;\n  border-radius: 100%;\n  color: ",";\n  background: ",";\n  // transform: rotate(192deg);\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: ",";\n  }\n\n  &:active {\n    background: #ccc;\n  }\n\n  path {\n    fill: ","3b;\n  }\n"])),(e=>e.color),(e=>e.selected?"#ddd":"transparent"),(e=>e.selected?"#ddd":"#eee"),(e=>e.color)),dn=a.a.span(Xt||(Xt=Object(c.a)(["\n  display: block;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 14px;\n"]))),hn=Object(a.a)(dn)(Bt||(Bt=Object(c.a)(["\n  padding: 4px 8px;\n  height: 30px;\n  width: 100%;\n  border-radius: 6px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: #eee;\n  }\n\n  &:active {\n    background: #ccc;\n  }\n"]))),un=a.a.div(Tt||(Tt=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),pn=a.a.div(Wt||(Wt=Object(c.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: center;\n\n  margin-bottom: 8px;\n"]))),xn=a.a.div(Vt||(Vt=Object(c.a)(["\n  width: 42px;\n  span {\n    margin-top: 10px;\n  }\n"]))),bn=a.a.div(_t||(_t=Object(c.a)(["\n  flex: 3;\n  width: 100%;\n  padding-left: 12px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n"]))),fn=a.a.div(Gt||(Gt=Object(c.a)(["\n  position: relative;\n  margin: 2px;\n  padding: 4px;\n  height: 30px;\n  width: 40px;\n  border-radius: 6px;\n  background: ",";\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 100ms ease;\n\n  &:hover {\n    background: ",';\n  }\n\n  &:active {\n    background: #ccc;\n  }\n\n  &:after {\n    content: "";\n    width: 90%;\n    height: ',"px;\n    background: ",";\n    border-radius: 4px;\n  }\n"])),(e=>e.selected?"#ddd":"transparent"),(e=>e.selected?"#ddd":"#eee"),(e=>e.size),(e=>e.color));var jn=n(15);const mn=e=>{let{camera:t,status:n,action:o,onReset:i,onUndo:s,onRedo:c,viewport:a}=e;const l=I();return Object(r.useEffect)((()=>(document.styleSheets[0].insertRule("#canvas * { outline: 1px solid #6c6c6c11; }",0),()=>document.styleSheets[0].deleteRule(0)))),Object(f.jsxs)("div",{className:"debug-sticky",children:[Object(f.jsx)("button",{style:{display:"block",margin:"0 0 10px"},onClick:i,children:"Reset"}),Object(f.jsx)("button",{style:{display:"block",margin:"0 0 10px"},onClick:s,children:"Undo"}),Object(f.jsx)("button",{style:{display:"block",margin:"0 0 10px"},onClick:c,children:"Redo"}),Object(f.jsx)("h4",{style:{marginBottom:4},children:"Status"}),Object(f.jsx)("div",{children:R(n)}),Object(f.jsx)("h4",{style:{marginBottom:4},children:"Action"}),Object(f.jsx)("div",{children:M(o)}),Object(f.jsx)("h4",{style:{marginBottom:4},children:"Zoom"}),Object(f.jsxs)("div",{children:[Math.floor(100*t.z),"%"]}),Object(f.jsx)("h4",{style:{marginBottom:4},children:"Camera"}),Object(f.jsxs)("div",{children:["x: ",Math.floor(t.x)]}),Object(f.jsxs)("div",{children:["y: ",Math.floor(t.y)]}),Object(f.jsx)("h4",{style:{marginBottom:4},children:"Viewport"}),Object(f.jsxs)("div",{children:["minX: ",Math.floor(a.minX)]}),Object(f.jsxs)("div",{children:["minY: ",Math.floor(a.minY)]}),Object(f.jsxs)("div",{children:["maxX: ",Math.floor(a.maxX)]}),Object(f.jsxs)("div",{children:["maxY: ",Math.floor(a.maxY)]}),Object(f.jsxs)("div",{children:["width: ",Math.floor(a.width)]}),Object(f.jsxs)("div",{children:["height: ",Math.floor(a.height)]}),Object(f.jsx)("h4",{style:{marginBottom:4},children:"Box"}),Object(f.jsxs)("div",{children:["minX: ",Math.floor(l.minX)]}),Object(f.jsxs)("div",{children:["minY: ",Math.floor(l.minY)]}),Object(f.jsxs)("div",{children:["maxX: ",Math.floor(l.maxX)]}),Object(f.jsxs)("div",{children:["maxY: ",Math.floor(l.maxY)]}),Object(f.jsxs)("div",{children:["width: ",Math.floor(l.width)]}),Object(f.jsxs)("div",{children:["height: ",Math.floor(l.height)]})]})};class gn extends r.Component{constructor(e){super(e);const t=Date.now();this.state={frames:0,startTime:t,prevTime:t,fps:[]}}shouldComponentUpdate(e,t){return this.state.fps!==t.fps||this.props!==e}componentDidMount(){const e=()=>{this.calcFPS(),this.afRequest=window.requestAnimationFrame(e)};this.afRequest=window.requestAnimationFrame(e)}componentWillUnmount(){window.cancelAnimationFrame(this.afRequest)}calcFPS(){const e=Date.now();if(this.setState((e=>({frames:e.frames+1}))),e>this.state.prevTime+1e3){const t=Math.round(1e3*this.state.frames/(e-this.state.prevTime)),n=this.state.fps;n.push(t),this.setState({fps:n.slice(-70),frames:0,prevTime:e})}}render(){const{top:e,right:t,bottom:n,left:r}=this.props,{fps:o}=this.state,i={zIndex:999999,position:"fixed",height:"46px",width:"76px",padding:"3px",backgroundColor:"#000",color:"#00ffff",fontSize:"9px",lineHeight:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",MozBoxSizing:"border-box",boxSizing:"border-box",pointerEvents:"none",top:e,right:t,bottom:n,left:r},s={position:"absolute",left:"3px",right:"3px",bottom:"3px",height:"29px",backgroundColor:"#282844",MozBoxSizing:"border-box",boxSizing:"border-box"},c=(e,t)=>({position:"absolute",bottom:"0",right:o.length-1-t+"px",height:e+"px",width:"1px",backgroundColor:"#00ffff",MozBoxSizing:"border-box",boxSizing:"border-box"}),a=Math.max.apply(Math.max,o);return Object(f.jsxs)("div",{style:i,children:[Object(f.jsxs)("span",{children:[o[o.length-1]," FPS"]}),Object(f.jsx)("div",{style:s,children:o.map(((e,t)=>{const n=29*e/a;return Object(f.jsx)("div",{style:c(n,t)},"fps-".concat(t))}))})]})}}gn.defaultProps={top:0,left:0,bottom:"auto",right:"auto"};var On,vn=gn;const En=a.a.div(On||(On=Object(c.a)(["\n  position: relative;\n  height: 80vh;\n  min-height: 560px;\n  width: 90%;\n  margin: 24px auto 0;\n  background: #ffffff;\n  box-sizing: border-box;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  border-radius: 4px;\n  overflow: hidden;\n"]))),yn=e=>{let{debug:t=!1,showFPS:n=!1,containerStyle:r={},svgStyle:o={},options:i=k}=e;const{onPan:s,onPinch:c,onFreehandStart:a,onFreehandMove:l,onFreehandEnd:d,onEraseStart:h,onEraseMove:u,onEraseEnd:p,setTheme:x}=xe,{status:b,action:j,content:m,camera:g,theme:O,meta:v}=be(),E=X(g,I());return Object(jn.a)("command+z,ctrl+z",(()=>{xe.undo()})),Object(jn.a)("command+shift+z,ctrl+shift+z",(()=>{xe.redo()})),Object(jn.a)("escape",(()=>{xe.setStatus(w.FREEHAND)})),Object(jn.a)("d",(()=>{xe.setStatus(w.FREEHAND)})),Object(jn.a)("e",(()=>{xe.setStatus(w.ERASE)})),Object(f.jsx)(En,{id:"canvas",style:r,children:Object(f.jsx)(yt,{children:Object(f.jsx)(ve,{children:Object(f.jsx)(Me,{children:Object(f.jsxs)(ge,{children:[Object(f.jsx)(Ve,{status:b,action:j,meta:v,camera:g,theme:O,content:m,onPan:s,onPinch:c,onFreehandStart:a,onFreehandMove:l,onFreehandEnd:d,onEraseStart:h,onEraseMove:u,onEraseEnd:p,debug:t,options:i,svgStyle:o}),Object(f.jsx)(qt,{status:b,camera:g,action:j,meta:v,theme:O,setTheme:x}),n&&Object(f.jsx)(vn,{}),t&&Object(f.jsx)(mn,{onReset:xe.reset,onUndo:xe.undo,onRedo:xe.redo,status:b,action:j,camera:g,viewport:E})]})})})})})};var kn,wn,Sn;class Cn extends r.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e})}render(){var e;return this.state.hasError?Object(f.jsxs)(Ln,{children:[Object(f.jsx)(Mn,{children:"An error occurred."}),Object(f.jsxs)(Rn,{children:["Error: ",null===(e=this.state.error)||void 0===e?void 0:e.message]})]}):this.props.children}}const Ln=a.a.div(kn||(kn=Object(c.a)(["\n  position: relative;\n  height: 100vh;\n  width: 100%;\n  margin: 0;\n  background: ",";\n  box-sizing: border-box;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  border-radius: 0;\n  overflow: hidden;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])),l.Black),Rn=a.a.p(wn||(wn=Object(c.a)(["\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 17px;\n  color: #ffffff;\n  margin: 4px auto 8px;\n  text-align: center;\n"]))),Mn=Object(a.a)(Rn)(Sn||(Sn=Object(c.a)(["\n  font-size: 18px;\n  line-height: 19px;\n  margin: 8px auto 12px;\n"]))),zn=/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);n(40);function Fn(){return Object(f.jsx)(Cn,{children:zn?Object(f.jsx)(j,{}):Object(f.jsx)(yn,{svgStyle:{background:"#fff"},containerStyle:{height:"100vh",minHeight:"100vh",width:"100%",borderRadius:0,margin:0},options:{hideBackgroundPattern:!0,disablePanning:!1},debug:!1,showFPS:!1})})}var An=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:s}=t;n(e),r(e),o(e),i(e),s(e)}))},Pn=n(31),Dn=n(5);s.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(Pn.a,{children:Object(f.jsxs)(Dn.c,{children:[Object(f.jsx)(Dn.a,{exact:!0,path:"/",children:Object(f.jsx)(Fn,{})}),Object(f.jsx)(Dn.a,{path:"/:id",children:Object(f.jsx)(Fn,{})})]})})}),document.getElementById("root")),An()}},[[45,1,2]]]);
//# sourceMappingURL=main.42710ca1.chunk.js.map